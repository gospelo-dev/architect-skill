# 印刷設定リファレンス

gospelo-architect は、印刷に最適化された様々な用紙サイズと画面サイズをサポートしています。

## 使用方法

```bash
bun bin/cli.ts html diagram.json output.html --paper <size>
```

## 利用可能なサイズ

### A系列 (ISO 216)

| サイズ | 寸法 (mm) | 横向き (px) | 縦向き (px) |
|--------|-----------|-------------|-------------|
| A1 | 841 x 594 | 3179 x 2245 | 2245 x 3179 |
| A2 | 594 x 420 | 2245 x 1587 | 1587 x 2245 |
| A3 | 420 x 297 | 1587 x 1123 | 1123 x 1587 |
| A4 | 297 x 210 | 1123 x 794 | 794 x 1123 |

### B系列 (JIS P 0138)

| サイズ | 寸法 (mm) | 横向き (px) | 縦向き (px) |
|--------|-----------|-------------|-------------|
| B1 | 1030 x 728 | 3893 x 2752 | 2752 x 3893 |
| B2 | 728 x 515 | 2752 x 1947 | 1947 x 2752 |
| B3 | 515 x 364 | 1947 x 1376 | 1376 x 1947 |
| B4 | 364 x 257 | 1376 x 971 | 971 x 1376 |

### 画面サイズ

| サイズ | 解像度 | 横向き (px) | 縦向き (px) |
|--------|--------|-------------|-------------|
| HD | 720p | 1280 x 720 | 720 x 1280 |
| FHD | 1080p | 1920 x 1080 | 1080 x 1920 |
| 4K | 2160p (UHD) | 3840 x 2160 | 2160 x 3840 |
| 8K | 4320p | 7680 x 4320 | 4320 x 7680 |

## サイズ指定形式

すべてのサイズは `<サイズ>-<向き>` の形式で指定します。

**向き:**
- `landscape` - 横向き（幅 > 高さ）
- `portrait` - 縦向き（高さ > 幅）

**例:**
```bash
--paper a4-landscape    # A4 横向き (1123 x 794)
--paper a4-portrait     # A4 縦向き (794 x 1123)
--paper b2-landscape    # B2 横向き (2752 x 1947)
--paper 4k-landscape    # 4K 横向き (3840 x 2160)
--paper fhd-portrait    # Full HD 縦向き (1080 x 1920)
```

## 解像度

すべてのピクセル値は **96 DPI**（CSS標準ピクセル）で計算されています。

```
ピクセル = mm × 96 / 25.4
```

### 高解像度ディスプレイ対応

96 DPI で定義された図は、Apple Retina ディスプレイを含むすべての画面で正しく表示されます：

| ディスプレイ種別 | レンダリング | 結果 |
|------------------|--------------|------|
| 通常ディスプレイ | 96 DPI | 定義通り |
| Retina 2x | 192 DPI | 鮮明に表示 |
| Retina 3x | 288 DPI | 鮮明に表示 |

gospelo-architect は **SVG（ベクター形式）** を出力するため、どのディスプレイでも品質劣化なくネイティブ解像度でレンダリングされます。ブラウザは `window.devicePixelRatio` を使用して自動的にスケーリングします。

## 動作

### コンテンツフィッティング

用紙サイズが指定された場合：

1. **ViewBox** が用紙サイズに設定されます
2. **コンテンツが自動フィット** - 用紙範囲内に収まるように調整
3. **縮小のみ** - コンテンツは拡大されません
4. **アスペクト比維持** - 縦横比は保持されます
5. **上揃え、横中央配置** - コンテンツは上部中央に配置

### アイコンサイズ

アイコンサイズは用紙サイズに関係なく、viewBox座標で **48px** に固定されています。つまり：

- **小さい用紙**（A4）: アイコンはページに対して大きく表示
- **大きい用紙**（A1）: 描画スペースが広がり、アイコンサイズは同じ

### 印刷用CSS

HTML出力には、自動印刷向き設定のための `@page` CSSルールが含まれます：

```css
@page {
  margin: 0;
  size: A4 landscape; /* または portrait */
}
```

## 使用例

### A4 横向き（標準ドキュメント）

```bash
bun bin/cli.ts html diagram.json output.html --paper a4-landscape
```

用途: シンプルな図、ドキュメントの添付資料

### A3 横向き（プレゼンテーション）

```bash
bun bin/cli.ts html diagram.json output.html --paper a3-landscape
```

用途: 会議資料、壁掛け表示

### B2 縦向き（ポスター）

```bash
bun bin/cli.ts html diagram.json output.html --paper b2-portrait
```

用途: 技術ポスター、大判印刷

### 4K 横向き（デジタルディスプレイ）

```bash
bun bin/cli.ts html diagram.json output.html --paper 4k-landscape
```

用途: 大型モニター、デジタルサイネージ、動画制作

### FHD 縦向き（モバイル/縦型ディスプレイ）

```bash
bun bin/cli.ts html diagram.json output.html --paper fhd-portrait
```

用途: 縦型モニター、モバイルプレゼンテーション

## 用紙サイズ vs 画面サイズ比較

| 用途 | 推奨サイズ |
|------|------------|
| オフィス印刷 | A4, A3 |
| 大判印刷 | A1, A2, B1, B2 |
| Web/デジタル表示 | FHD, 4K |
| 動画制作 | HD, FHD, 4K, 8K |
| 技術ポスター | B2, B1 |
| 詳細なアーキテクチャ図 | A1, B1, 4K |

## Tips

### 適切なサイズの選び方

1. **印刷用**: プリンターの対応サイズに合わせてA系列またはB系列を使用
2. **画面表示用**: ディスプレイ解像度に合わせてHD/FHD/4Kを使用
3. **複雑な図**: 詳細なスペースが必要な場合は大きいサイズ（A1, B1, 4K）を使用
4. **シンプルな概要図**: A4またはFHDで通常は十分

### 印刷プレビュー

図の印刷結果を確認するには：

1. 生成されたHTMLをブラウザで開く
2. `Ctrl+P`（Macでは `Cmd+P`）を押す
3. 印刷プレビューで指定した用紙サイズにフィットした図が表示されます

### カスタムサイズ

上記にないサイズが必要な場合は、`--width` と `--height` を直接指定：

```bash
bun bin/cli.ts html diagram.json output.html --width 2000 --height 1500
```
